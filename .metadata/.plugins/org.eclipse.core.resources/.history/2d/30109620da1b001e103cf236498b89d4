package com.practice;

import java.io.IOException;
import java.io.PrintWriter;

import javax.servlet.http.Cookie;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

public class servlet2 extends HttpServlet {
	protected void service(HttpServletRequest req, HttpServletResponse res) throws IOException {

		PrintWriter out = res.getWriter();
		
		Cookie[] cookies = req.getCookies();
		
		String userName= "";
		
		for(Cookie c:cookies) {
			if(c!=null && c.getName().equals("username")) {
				userName=c.getValue();
			}else {
				out.println("<h1> You are new user. Please go back and submit your name</h1>");
			}
		}
		System.out.println("servlet1 is called ... welcome back is : " + userName);
		out.println("Welcome back " + userName);
	}
}
